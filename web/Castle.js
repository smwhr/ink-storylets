var storyContent = ﻿{"inkVersion":20,"root":[["\n","\n","\n","\n","\n","\n","ev",{"VAR?":"Storylets"},{"^->":"conditions"},{"^->":"choice_text"},{"^->":"goto"},"/ev",{"->t->":"initStorylets"},"^You enter the castle","\n","ev",3,"/ev","thread",{"->":"listAvailableStorylets"},{"*":"0.c-0","flg":24},{"c-0":["\n",{"->":"lobby"},{"->":"0.g-0"},{"#f":5}],"g-0":["done",{"#f":5}]}],"done",{"lobby":[["^You are back to your room.","\n","ev",3,"/ev","thread",{"->":"listAvailableStorylets"},["ev",{"^->":"lobby.0.7.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","choiceCnt",0,"==","/ev",{"*":".^.^.c-0","flg":19},{"s":["^Nothing to do anymore ...",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"lobby.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.7.s"},[{"#n":"$r2"}],"\n",{"->":"ever_after"},"ev","choiceCnt",0,"==","/ev",[{"->":".^.b","c":true},{"b":["\n",{"->":"ever_after"},{"->":".^.^.^.14"},null]}],"nop","\n",{"->":"lobby"},{"#f":5}]}],{"#f":1}],"ever_after":["^They lived happily ever after.","\n","end",{"#f":1}],"initStorylets":[{"temp=":"diverter"},{"temp=":"verbose"},{"temp=":"conditioner"},{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_ALL","/ev",{"VAR=":"all_storylets","re":true},"\n","ev",{"VAR?":"conditioner"},"/ev",{"VAR=":"st_conditioner","re":true},"ev",{"VAR?":"diverter"},"/ev",{"VAR=":"st_diverter","re":true},"ev",{"VAR?":"verbose"},"/ev",{"VAR=":"st_verbose","re":true},"ev",{"VAR?":"all_storylets"},{"VAR?":"all_storylets"},"LIST_COUNT",{"f()":"compute_available"},"pop","/ev","\n","ev","void","/ev","->->",{"#f":1}],"compute_available":[{"temp=":"max"},{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_MIN","/ev",{"temp=":"current"},"\n","ev",{"VAR?":"current"},{"f()":"st_conditioner","var":true},"/ev",{"temp=":"current_is_available"},"\n","ev",{"VAR?":"list"},{"VAR?":"all_storylets"},"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"list":{}},"/ev",{"VAR=":"AvailableStorylets","re":true},{"->":".^.^.^.20"},null]}],"nop","\n","ev",{"VAR?":"list"},"LIST_COUNT",0,">",{"VAR?":"max"},0,">","&&","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"current_is_available"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"AvailableStorylets"},{"VAR?":"current"},"+",{"VAR=":"AvailableStorylets","re":true},"/ev","ev",{"VAR?":"list"},{"VAR?":"current"},"-",{"VAR?":"max"},1,"-",{"f()":".^.^.^.^.^"},"pop","/ev","\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"list"},{"VAR?":"current"},"-",{"VAR?":"max"},{"f()":".^.^.^.^.^"},"pop","/ev","\n",{"->":".^.^.^.6"},null]}],"nop","\n",{"->":".^.^.^.33"},null]}],"nop","\n",{"#f":1}],"default_diverter":[{"temp=":"st"},"end",{"#f":3}],"default_conditioner":[{"temp=":"st"},"ev",true,"/ev","~ret",{"#f":3}],"default_verbose":[{"temp=":"st"},"ev","str","ev",{"VAR?":"st"},"out","/ev","/str","/ev","~ret",{"#f":3}],"listAvailableStorylets":[{"temp=":"max"},"ev",{"VAR?":"all_storylets"},{"VAR?":"max"},{"f()":"compute_available"},"pop","/ev","\n","ev",{"VAR?":"AvailableStorylets"},{"VAR?":"max"},"/ev","thread",{"->":"threadAvailable"},"done",{"#f":1}],"threadAvailable":[{"temp=":"max"},{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_MAX","/ev",{"temp=":"current"},"\n","ev",{"VAR?":"list"},"LIST_COUNT",0,">",{"VAR?":"max"},0,">","&&","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"list"},{"VAR?":"current"},"-",{"VAR?":"max"},1,"-","/ev","thread",{"->":".^.^.^"},"ev","str","ev",{"VAR?":"current"},{"f()":"st_verbose","var":true},"out","/ev","/str","/ev",{"*":".^.c-0","flg":4},{"->":".^.^.^.19"},{"c-0":["\n","ev",{"VAR?":"current"},"/ev",{"->":"st_diverter","var":true},{"#f":5}]}]}],"nop","\n",{"#f":1}],"conditions":[{"temp=":"storylet"},"ev",{"VAR?":"storylet"},"/ev",["du","ev",{"VAR?":"st_magician"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"CNT?":"meet_magician"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",false,"/ev","~ret",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"KnowOfMagician"},"/ev","~ret",{"->":".^.^.^.7"},null]}],"nop","\n",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"st_witch"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"WitchSecrets"},3,"<=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev","~ret",{"->":".^.^.^.8"},null]}],"nop","\n","ev",{"VAR?":"KnowRecipe"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",false,"/ev","~ret",{"->":".^.^.^.14"},null]}],"nop","\n","ev",{"CNT?":"meet_magician"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev","~ret",{"->":".^.^.^.20"},null]}],"nop","\n","ev",false,"/ev","~ret",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"st_kitchen"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"KnowRecipe"},{"CNT?":"cook_kitchen"},"!","&&","/ev","~ret",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"st_music"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"BoredOfMusic"},"!","/ev","~ret",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["pop","\n","ev",false,"/ev","~ret",{"->":".^.^.^.9"},null]}],"nop","\n",{"#f":3}],"goto":[{"temp=":"storylet"},["ev",{"VAR?":"storylet"},"/ev",["du","ev",{"VAR?":"st_magician"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"->t->":"meet_magician"},{"->":"goto.1.8"},null]}],["du","ev",{"VAR?":"st_witch"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"->t->":"meet_witch"},{"->":"goto.1.8"},null]}],["du","ev",{"VAR?":"st_kitchen"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"->t->":"cook_kitchen"},{"->":"goto.1.8"},null]}],["du","ev",{"VAR?":"st_music"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"->t->":"listen_music"},{"->":"goto.1.8"},null]}],"pop","nop","\n",["^End of the mini-adventure.","\n",{"->":"lobby"},{"#f":5,"#n":"g-0"}],null],{"#f":3}],"choice_text":[{"temp=":"storylet"},"ev",{"VAR?":"storylet"},"/ev",["du","ev",{"VAR?":"st_magician"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^The magician is waiting","\n",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"st_witch"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^The witch summoned you ",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop",{"->":".^.^.17"},null],"s1":["pop","^again",{"->":".^.^.17"},null],"#f":5}],"\n",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"st_kitchen"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^You feel hungry","\n",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"st_music"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^Wait and listen to some music","\n",{"->":".^.^.^.9"},null]}],"pop","nop","\n",{"#f":3}],"meet_magician":["^You meet the magician.","\n","^He tells you about the witch ultimate secret.","\n","ev","void","/ev","->->",{"#f":1}],"meet_witch":["^You meet the witch.","\n","ev",{"VAR?":"WitchSecrets"},4,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^« You managed to come back. I will give you the ultimate secret »","\n","^The witch gives you her ultimate secret : the recipe for chocolate cake.","\n","ev",true,"/ev",{"VAR=":"KnowRecipe","re":true},{"->":".^.^.^.8"},null]}],"nop","\n","ev",{"VAR?":"WitchSecrets"},3,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^The witch tells you her last secret.","\n","^She asks you to never come back.","\n","ev",{"VAR?":"WitchSecrets"},1,"+",{"VAR=":"WitchSecrets","re":true},"/ev","^You now know ","ev",{"VAR?":"WitchSecrets"},"out","/ev","^ secrets.","\n",{"->":".^.^.^.16"},null]}],"nop","\n","ev",{"VAR?":"WitchSecrets"},3,"<","/ev",[{"->":".^.b","c":true},{"b":["\n","^The witch tells you a new secret.","\n","ev",{"VAR?":"WitchSecrets"},1,"+",{"VAR=":"WitchSecrets","re":true},"/ev","^You now know ","ev",{"VAR?":"WitchSecrets"},"out","/ev","^ secrets.","\n",{"->":".^.^.^.24"},null]}],"nop","\n","ev","void","/ev","->->",{"#f":1}],"cook_kitchen":["^You spend the evening cooking.","\n","ev","void","/ev","->->",{"#f":1}],"listen_music":["^You listen to ",["ev","visit",3,"%","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^some Mozart",{"->":".^.^.23"},null],"s1":["pop","^Toxic by Britney Spears",{"->":".^.^.23"},null],"s2":["pop","^some Coltrane",{"->":".^.^.23"},null],"#f":5}],"\n","ev",{"VAR?":"WitchSecrets"},4,"==",1,3,"rnd",1,"==","&&",{"VAR?":"KnowRecipe"},"!","&&","/ev",[{"->":".^.b","c":true},{"b":["\n","^Suddenly, the phone rings : this the magician calling.","\n","ev",true,"/ev",{"VAR=":"KnowOfMagician","re":true},{"->":".^.^.^.18"},null]}],"nop","\n","ev",{"CNT?":".^"},10,">","/ev",[{"->":".^.b","c":true},{"b":["\n","^You get so bored of music.","\n","ev",true,"/ev",{"VAR=":"BoredOfMusic","re":true},{"->":".^.^.^.26"},null]}],"nop","\n","ev","void","/ev","->->",{"#f":1}],"global decl":["ev",{"list":{}},{"VAR=":"AvailableStorylets"},{"list":{}},{"VAR=":"all_storylets"},{"^->":"default_diverter"},{"VAR=":"st_diverter"},{"^->":"default_conditioner"},{"VAR=":"st_conditioner"},{"^->":"default_verbose"},{"VAR=":"st_verbose"},{"list":{},"origins":["Storylets"]},{"VAR=":"Storylets"},0,{"VAR=":"WitchSecrets"},false,{"VAR=":"KnowRecipe"},false,{"VAR=":"KnowOfMagician"},false,{"VAR=":"BoredOfMusic"},"/ev","end",null],"#f":1}],"listDefs":{"Storylets":{"st_magician":1,"st_witch":2,"st_kitchen":3,"st_music":4}}};